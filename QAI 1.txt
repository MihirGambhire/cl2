# Import necessary modules from Qiskit
from qiskit import QuantumCircuit, QuantumRegister, ClassicalRegister, transpile
from qiskit_aer import AerSimulator
from qiskit.visualization import plot_histogram, circuit_drawer

# Create a quantum circuit with 16 qubits and 16 classical bits
circuit = QuantumCircuit(16, 16)

# Apply Hadamard gate to all qubits (puts each qubit in superposition)
circuit.h(range(16))

# Measure all qubits into corresponding classical bits
circuit.measure(range(16), range(16))

# Draw the quantum circuit
circuit.draw()

# Initialize the Aer simulator backend
backend = AerSimulator()

# Transpile (optimize) the circuit for the given backend
output = transpile(circuit, backend)

# Run the transpiled circuit on the simulator with one shot
output = backend.run(output, shots=1).result()

# Get the measurement results (counts of observed outcomes)
counts = output.get_counts()

# Print the output results
print(counts)

# Visualize the results using a histogram
plot_histogram(counts)
